function checkForDetails {
	checkID $1 "${EMPDETAILSFILES}"
        return $?
}

function addEmployeeDetail {
	######################################
	#	Add the details for an existing employee
	#	exit codes
	#	0: Success
	#	1: not exists
	#	2: could not save
	echo "Add details for existing employee"
	echo -n "Enter Employee ID : "
	read ID
	checkForEmployee ${ID}
        if [ $? -eq 0 ]
                then
                      echo "Sorry, can not find employee with ID ${ID}. It is not exists"
                      return 1
                fi
	PRICE=0
	CO=1
	while [ $PRICE -ge 0 ]
	do
		echo -n "Enter price ${CO} : "
		read PRICE
		if [ $PRICE -ge 0 ]
		then
			D=$(date| sed -e 's/:/_/g' -e 's/ /_/g')
			echo "${ID}:${D}:${PRICE}" >> ${EMPDETAILSFILES}
			if [ $? -ne 0 ]
			then
				echo "Could not save"
				return 2
			fi
		fi
		CO=$[CO+1]
	done
		echo "Saved the employee $ID details"
		return 0
}

function deleteEmployeeDetails {
	##################################
	#	Delete a details for existing employee
	#	Exit codes
	#	0:	success
	#	1:	Employee is not found
	#	2:	No details for the employee
	#	3:	Could not delete from the file
	echo "Delete an existing employee details"
	echo -n "Enter employee ID : "
	read ID
	checkForEmployee ${ID}
        if [ $? -eq 0 ]
                then
                      echo "Sorry, can not find employee with ID ${ID}. It is not exists"
                      return 1
                fi
	checkForDetails ${ID}
        if [ $? -eq 0 ]
                then
                       echo "Sorry, there is no employee details for ${ID}."
                       return 2
                fi
	sed -i "/^${ID}:/d" ${EMPDETAILSFILES}
	if [ $? -eq 0 ]
	then
		echo "The details for ${ID} has been deleted"
		return 0
	else
		return 3
	
	fi
}


function checkForEmployee {
	checkID $1 "${EMPINFOFILE}"
	return $?
}

function addEmployee {
	################
	#	Add a new employee
	#	Return codes:
	#	0: Success
	#	1: Failed Employee is already exists
	#	2: Failed unable to write to the ${EMPINFOFILE}

	echo "Add an employee menu"
	echo -n "Enter employee ID : "
	read ID
	echo -n "Enter employee name : "
	read NAME
	echo -n "Enter employee email : "
	read EMAIL
	checkForEmployee ${ID}
	if [ $? -gt 0 ]
	then
		echo "Sorry, can not add the employee with ID ${ID}. It is already exists"
		return 1
	fi
	echo "${ID}:${NAME}:${EMAIL}" >> ${EMPINFOFILE}
	if [ $? -eq 0 ]
	then
		echo "Employee $ID added, and exit"
		return 0
	else
		echo "Sorry, could not add employee $ID, check for permissions"
		return 2
	fi

}

function deleteEmployee {
	######################## 
	#	Delete an existing employee
	#	Exist codes
	#	0:	Success
	#	1:	Employee is not exists
	#	2:	Employee has a details
	#	3:	Could not delete 

	echo "Delete an employee menu"
	echo -n "Enter required ID : "
	read ID
	checkForEmployee ${ID}
        if [ $? -eq 0 ]
	        then
	                echo "Sorry, can not delete the employee with ID ${ID}. It is not exists"
	                return 1
	        fi
	checkForDetails ${ID}
	if [ $? -gt 0 ]
                then
                        echo "Sorry, can not delete the employee with ID ${ID}. It has a details"
                        return 2
                fi
	sed -i "/^${ID}:/d" ${EMPINFOFILE}
	if [ $? -eq 0 ]
	then
		echo "User $ID has been deleted, exit"
		return 0
	else
		echo "Could not delete the user ${ID}, check for permissions"
		return 3
	fi

}

function queryEmployee {
	##################################
	#	Ask for an employee ID, and prints its info
	#	exit code
	#	0:	success
	#	1:	Employee is not found

	echo "Query for an employee meu"
	echo -n "Enter employee ID : "
	read ID
	checkForEmployee ${ID}
	if [ $? -eq 0 ]
                then
                       echo "Sorry, can not find employee with ID ${ID}. It is not exists"
                        return 1
                fi
	LINE=$(sed -n "/^${ID}:/p" ${EMPINFOFILE})
	NAME=$(echo $LINE| cut -d":" -f 2 )
	EMAIL=$(echo $LINE| cut -d":" -f 3 )
	echo "Employee name : ${NAME}"
	echo "Employee email : ${EMAIL}"
	return 0
}

